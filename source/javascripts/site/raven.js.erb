window.catching_errors = function(topic, date, fn) {
  try {
    fn();
  } catch(e) {
    <% if development? %>
      console.warn(e);
      console.warn(e.stack);
      alert(e);
    <% else %>
      Raven.captureException(e, { tags: { date: date, topic: topic }});
    <% end %>
  }
};

<% unless development? %>
  $(function(){
    Raven.config('http://a34a3e95df804743806e892f74eda2e8@app.getsentry.com/35052').install();
  });
<% end %>
