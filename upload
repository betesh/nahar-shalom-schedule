#! /usr/bin/env ruby

`#{File.expand_path("#{__FILE__}/..")}/compile`

require 'aws-sdk'
yaml = YAML::load(File.open('aws.yml'))
AWS.config(yaml['credentials'])
bucket = AWS::S3.new.buckets[yaml['bucket']]

Dir['js/*.js'].each { |f| bucket.objects[f].write(Pathname.new(f), :acl => :public_read, :content_type => 'text/javascript' ) }

(Dir['images/*'] + Dir['*.html']).each { |f| bucket.objects[f].write(Pathname.new(f), :acl => :public_read) }

